<!DOCTYPE html>
<html>
<head>
      <script src="https://cdn.jsdelivr.net/pyodide/v0.20.0/full/pyodide.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/@svgdotjs/svg.js@3.0/dist/svg.min.js"></script>
	  <script type="text/javascript" src="ventilation_functions.js"></script> 
	  <link rel="stylesheet" href="./style.css">
</head>

<body>

<h1>Ventilation flow rate adjustment</h1>

<div class="inputdata">
<h2>Please fill inputs</h2>
 <form>
	<p>
		<label for="numberofvents">Number of vents:</label>
		<input type="number" id="numberofvents" name="quantity" min="2" value="5" max="8" onchange="setnumberofducts(this.valueAsNumber)">
	</p>
	<p>
		<label for="lname">Total flow rate:</label>
		<input type="number" id="totalflow" name="totalflow" min="50" value="200" max="500" onchange="changeFlow(this.valueAsNumber)">
	</p>
</form> 
</div>

<div class="instructions">
<h2>Instructions</h2>
Try to set the different vents to have an equal flow on each branch <b> (target = <span id='targetflow'>xx</span> m3/h on each vent </b>)
</div>


<div class="wholepicture" style="position: relative; left: 0; top: 0;">

<div class="networkdiv">
<!--<img src="network_alone_plain.svg" width="500" class="network"/>-->
</div>
<img src="fan2.svg" class="fan" width="48"/>

<form class="form-inline">
</form>

<div class="horizontal">
</div>


<div>
<h2>Number of operations: <span id="changeCounter">0</span></h2>
</div>




<div>
<h2 id="totalFlow">Total flow rate: 150 mÂ³/h</h2>
</div>
<div>
<h2 id="dp">Acutal pressure drop: 20 Pa</h2>
</div>
<div>
<h2 id="power">Electric power: 0 W</h2>
</div>


</div>





<script>
//const $icon = document.querySelector('.icon');
//const $arrow = document.querySelector('.arrow');

let initPyodide = loadPyodide()

let lastChangedVent = 0

setnumberofducts(parseInt(document.getElementById('numberofvents').value))

adjustTarget()



</script>
</body>
</html>
